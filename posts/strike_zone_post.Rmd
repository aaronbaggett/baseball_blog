---
output: html_document
---
Hi everyone!  I'm really excited to be joining Max, Jim, Carson, and Brian here at Exploring Baseball Data with **R**.

I'm Aaron Baggett.  I live in Belton, TX where I'm associate professor of psychology at the University of Mary Hardin-Baylor.  I completed my Ph.D. at Baylor University in Waco, TX in educational psychology with a concentration in measurement and statistics.  I've always been a big baseball nerd so when I started learning statistics in graduate school it was a given that I would apply what I was learning to the wealth of available baseball data.  Thanks to [Carson's](link) amazing [`pitchRx` package](link), we can access what, to me, is some of the richest publicly available baseball data to date.

One of my primary research interests is better understanding judgment and decision making processes of expert sports officials.  Although the PITCHf/x data do not allow us to monitor the visual and spatial accuities of umpires as in a laboratory, we can, however, observe with a good deal of precision, patterns of judgment and decision making.

To be able to precisely measure home plate umpires' decisions using PITCHf/x data, we need to first understand a few things about


For my first post, I thought it would be valuable to explore some interesting factors related to properly parameterizing the strike zone.  

For this post, I'll load the following **R** packages as well as the PITCHf/x data from 2014.  I've already scraped and cleaned the 2014 PITCHf/x data using Carson's [`pitchRx`](link) package.  If you want to get up and running with your own PITCHf/x database, check out [Carson's earlier posts](link).

```{r, eval = FALSE}
# Load package libraries
library(ggplot2)
library(dplyr, warn.conflicts = FALSE)
library(lme4, quietly = TRUE)

# Read in 2014 PITCHf/x data
load(url("http://aaronbaggett.com/data/pfx_14.rda"))
```

What effect does ... have on measuring home plate umpire decision accuracy?

  There was some talk just last week about MLB possibly considering revising the rule book definition of the strike zone to include pitches located in the lower region.  [Brian](link), and [others](link), suggest umpires' tendency to call the low strike has resulted in a noticeable decline in run scoring.  For now though, the strike zone is outlined in the [Official Baseball Rules](http://pressbox.mlb.com/pressbox/downloads/y2014/2014_Official_Baseball_Rules.pdf) (MLB, 2014) under Rule 2.00.  

The following definition is offered:

> The STRIKE ZONE is that area over home plate the upper limit of which is a horizontal
line at the midpoint between the top of the shoulders and the top of the uniform
pants, and the lower level is a line at the hollow beneath the kneecap. The Strike Zone shall
be determined from the batterâ€™s stance as the batter is prepared to swing at a pitched ball (p. 21).

Rule 2.00 also defines a STRIKE.  For our purposes, let's look at (b): A STRIKE is a legal pitch when so called by the umpire, which (b) Is not struck at, if any part of the ball passes through any part of the strike zone;

Although the rule book definition only addresses the upper and lower boundaries of the strike zone, there are really two parameters we have to address when measuring umpire decision accuracy.  The easiest parameter to establish is the width of the strike zone.  Here's why: In the PITCHf/x data, the strike zone is divided into nine smaller regions.  These regions are typically used to illustrate pitch locations in online and mobile MLB Gameday applications.  Figure X presents an example of the nine regions.

```{r, eval = FALSE}
# Set up PITCH/fx native strike zone regions data
strike_zones <- data.frame(
x1 = rep(-1.5:0.5, each = 3),
x2 = rep(-0.5:1.5, each = 3),
y1 = rep(1.5:3.5, 3),
y2 = rep(2.5:4.5, 3),
z = factor(c(7, 4, 1, 8, 5, 2, 9, 6, 3))
)

# Plot example of PITCHf/x strike zone regions
ggplot() + 
  xlim(-3, 3) + xlab("") +
  ylim(0, 6) + ylab("") +
  geom_rect(data = strike_zones, 
    aes(xmin = x1, xmax = x2, ymin = y2, ymax = y1, fill = z), color = "grey20") +
  geom_text(data = strike_zones, 
    aes(x = x1 + (x2 - x1)/2, y = y1 + (y2 - y1)/2, label = z), 
    size = 7, fontface = 2, color = I("grey20")) + 
  theme_bw() + theme(legend.position = "none")
```

<div align="center">
![alt text](../figs/zones)
</div>

When we examine the PITCHf/x data, the width of the strike zone is set automatically to the uniform width of home plate (17 inches).  We can see this by extracting the minimum and maximum *x*-coordinate (`px`) values of all pitches by each region of the strike zone (`zone`).  To see this in **R**, it's as easy as grouping the data by the `zone` variable and calculating the minimum and maximum `px` values in `dplyr`.

```{r, eval = FALSE}
# Find width of PITCHf/x parameters by *zone*
pfx_14 %>% 
  group_by(zone) %>% 
  filter(zone <= 9) %>% 
  summarize(min_px = min(px), 
    mean_px = mean(px), 
    max_px = max(px), 
    sd_px = sd(px))
```

The mininum value for zone 1 is -0.708, while the maximum value for zone 9 is 0.708$^1$.  Since zone 1 represents the left edge of the strike zone (from the umpire's perspective) and zone 9 represents the right edge, we can see that the uniform width is equal to 0.708 inches $\times$ 2 = 1.416 feet.  In other words, 1.416 $\times$ 12 = 17 inches.





The width of home plate is a uniform 17 inches.


Despite the seemingly fixed dimensions of the strike zone, they actually are quite dynamic.  For starters, the upper and lower boundaries depend on batters' stances, and in all reality, batters' heights.  Thus, it can be difficult to establish a set of uniform upper and lower boundarires.

A major portion of my own research involves working to better understand decision-making processes of expert umpires.  PITCHf/x data are essential to statistically modeling these decisions as other comparable methods of data collection are inferior.


Ball radius = ((1.57*2 + 17) / 12) / 2 = 0.8391667


, which is a mean difference of 8.78 pitches per game (*SD* = 2.05).

**Notes:**

1. By the way, this is true for both right and left handed batters.
